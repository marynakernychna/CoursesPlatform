(this["webpackJsonpacc-front"]=this["webpackJsonpacc-front"]||[]).push([[0],{190:function(e,t,n){e.exports={loginBlock:"styles_loginBlock__21fUo",loginBottomText:"styles_loginBottomText__3U-xM"}},193:function(e,t,n){e.exports={registrationBlock:"styles_registrationBlock__1a7A9",registrationBottomText:"styles_registrationBottomText__34t-E"}},321:function(e,t){},323:function(e,t){},338:function(e,t){},340:function(e,t){},368:function(e,t){},370:function(e,t){},371:function(e,t){},376:function(e,t){},378:function(e,t){},384:function(e,t){},386:function(e,t){},405:function(e,t){},417:function(e,t){},420:function(e,t){},510:function(e,t,n){},511:function(e,t,n){},512:function(e,t,n){},513:function(e,t,n){},515:function(e,t,n){},516:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),s=n(33),a=n(27),c=n(81),i=n(25),l=(n(297),n(190)),u=n.n(l),d=n(521),j=n(524),O=n(68),b=n(527),m=n(528),h=n(274),f=n.n(h),p="login/LOGINSTARTED",g="login/LOGINSUCCESS",S="login/LOGINFAILED",E="login/LOGINVIAFACEBOOKSTARTED",C="login/LOGINVIAFACEBOOKSUCCESS",x="login/LOGINVIAFACEBOOKFAILED",y=n(29),v=n(30),T=n(43),I=n.n(T),F="http://localhost:5000/Auth/";I.a.interceptors.request.use((function(e){var t=window.localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var R=function(){function e(){Object(y.a)(this,e)}return Object(v.a)(e,null,[{key:"logIn",value:function(e){return I.a.post(F+"LogIn",e)}},{key:"get",value:function(){return I.a.get("http://localhost:5000/Courses/GetCourses")}},{key:"logInViaFacebook",value:function(e){return I.a.post(F+"LogInViaFacebook",e)}},{key:"registerUser",value:function(e){return I.a.post(F+"RegisterUser",e)}}]),e}(),A="auth/SETAUTHTOKEN",D="auth/LOGOUT",P=n(275),U=n.n(P),k="Student",N="Admin",L="Guest";function M(e,t){var n=U.a.decode(t.jwtToken);return e({type:A}),localStorage.setItem("authToken",t.jwtToken),n.role}function w(e,t){switch(R.get().then((function(e){console.log(e)}),(function(e){console.log("Error: ",e.response)})).catch((function(e){console.log("Global server error",e)})),t){case k:e.push("/studentPanel");break;case N:e.push("/adminPanel")}}var G=n(5),B=function(e){var t=Object(a.c)();Object(r.useEffect)((function(){document.title="Log in"}));return Object(G.jsx)(r.Fragment,{children:Object(G.jsxs)("div",{className:u.a.loginBlock,children:[Object(G.jsx)("h3",{style:{marginBottom:"35px",color:"white"},children:"Log in"}),Object(G.jsxs)(d.a,{name:"basic",initialValues:{remember:!0},onFinish:function(n){var r,o;console.log("Success : ",n),t((r=n,o=e.history,function(e){e({type:p}),R.logIn(r).then((function(t){var n=M(e,t.data);e({type:g,role:n}),w(o,n)}),(function(t){console.log("Error: ",t.response),e({type:S})})).catch((function(e){console.log("Global server error",e)}))}))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(G.jsx)(d.a.Item,{name:"email",rules:[{required:!0,message:"Input your email!",type:"email"}],children:Object(G.jsx)(j.a,{prefix:Object(G.jsx)(b.a,{}),className:"site-form-item-icon",placeholder:"email"})}),Object(G.jsx)(d.a.Item,{name:"password",rules:[{required:!0,message:"Input your password!"}],children:Object(G.jsx)(j.a.Password,{placeholder:"password",prefix:Object(G.jsx)(m.a,{}),className:"site-form-item-icon"})}),Object(G.jsxs)(d.a.Item,{children:[Object(G.jsx)(O.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Log in"}),Object(G.jsx)("br",{})]})]}),Object(G.jsx)(f.a,{appId:"651731139077984",autoLoad:!1,fields:"first_name, last_name, picture, email",callback:function(e){e.first_name,e.last_name,e.email;console.log(e)},cssClass:"ant-btn ant-btn-primary login-form-button",buttonStyle:{width:"100%"}}),Object(G.jsxs)("div",{className:u.a.loginBottomText,children:["Or ",Object(G.jsx)("a",{href:"/registration",style:{fontStyle:"italic",fontWeight:"500"},children:"register now!"})]})]})})},V=Object(i.g)(B),Y=n(283),q=n(193),_=n.n(q),J=n(523),K="registration/REGISTRATIONSTARTED",H="registration/REGISTRATIONSUCCESS",z="registration/REGISTRATIONFAILED";var W=function(e){var t=d.a.useForm(),n=Object(Y.a)(t,1)[0],o=Object(a.c)();Object(r.useEffect)((function(){document.title="Registration"}));return Object(G.jsx)(r.Fragment,{children:Object(G.jsxs)("div",{className:_.a.registrationBlock,children:[Object(G.jsx)("h3",{style:{marginBottom:"35px",color:"white"},children:"Registration"}),Object(G.jsxs)(d.a,{form:n,name:"register",onFinish:function(t){console.log("Success : ",t),o(function(e,t){return function(n){n({type:K}),R.registerUser(e).then((function(e){var r=M(n,e.data);n({type:H,role:r}),w(t,r)}),(function(e){console.log("Error: ",e.response),n({type:z})})).catch((function(e){console.log("Global server error",e)}))}}(t,e.history))},onFinishFailed:function(e){console.log("Failed:",e)},scrollToFirstError:!0,children:[Object(G.jsx)(d.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(G.jsx)(j.a,{placeholder:"Email"})}),Object(G.jsx)(d.a.Item,{name:"name",rules:[{type:"string",message:"The input is not valid Name!"},{required:!0,message:"Please input your Name!"}],children:Object(G.jsx)(j.a,{placeholder:"Name"})}),Object(G.jsx)(d.a.Item,{name:"surname",rules:[{type:"string",message:"The input is not valid Surname!"},{required:!0,message:"Please input your Surname!"}],children:Object(G.jsx)(j.a,{placeholder:"Surname"})}),Object(G.jsx)(d.a.Item,{name:"age",rules:[{type:"number",message:"The input is not valid Age!"},{required:!0,message:"Please input your Age!"}],children:Object(G.jsx)(J.a,{min:14,max:100,placeholder:"Age"})}),Object(G.jsx)(d.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0,children:Object(G.jsx)(j.a.Password,{placeholder:"Password"})}),Object(G.jsx)(d.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(G.jsx)(j.a.Password,{placeholder:"Confirm password"})}),Object(G.jsx)(d.a.Item,{children:Object(G.jsx)(O.a,{type:"primary",htmlType:"submit",className:"registerBtn",style:{width:"100%"},children:"Register"})})]}),Object(G.jsxs)("div",{className:_.a.registrationBottomText,children:["Or ",Object(G.jsx)("a",{href:"/login",style:{fontStyle:"italic",fontWeight:"500"},children:"login now!"})]})]})})},Q=Object(i.g)(W),X=n(36),Z=n(35),$=n(518),ee=n(526),te=n(529),ne=n(530),re=n(531),oe=n(532),se="Courses",ae="MyCourses",ce="Profile",ie=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).state={},r}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=function(t){console.log(t),e.props.changeSection(t)};return Object(G.jsx)(r.Fragment,{className:"block",children:Object(G.jsxs)(ee.a,{defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",theme:"dark",children:[Object(G.jsx)(ee.a.Item,{icon:Object(G.jsx)(te.a,{}),onClick:function(){return t(se)},children:"Courses"},"1"),Object(G.jsx)(ee.a.Item,{icon:Object(G.jsx)(ne.a,{}),onClick:function(){return t(ae)},children:"My courses"},"2"),Object(G.jsx)(ee.a.Item,{icon:Object(G.jsx)(re.a,{}),onClick:function(){return t(ce)},children:"Profile"},"3"),Object(G.jsx)(ee.a.Item,{icon:Object(G.jsx)(oe.a,{}),onClick:function(){e.props.logOut()},children:"Log out"},"4")]})})}}]),n}(o.a.Component),le="studentPanel/GETCOURSESSTARTED",ue="studentPanel/GETCOURSESSUCCESS",de="studentPanel/GETCOURSESFAILED",je="studentPanel/GETMYCOURSESSTARTED",Oe="studentPanel/GETMYCOURSESSUCCESS",be="studentPanel/GETCMYOURSESFAILED",me="studentPanel/CHANGESECTION",he="studentPanel/ENROLLINACOURSESTARTED",fe="studentPanel/ENROLLINACOURSESSUCCESS",pe="studentPanel/ENROLLINACOURSEFAILED",ge="studentPanel/REMOVESUBSCRIBESTARTED",Se="studentPanel/REMOVESUBSCRIBESUCCESS",Ee="studentPanel/REMOVESUBSCRIBEFAILED",Ce="studentPanel/GETPROFILEINFOSTARTED",xe="studentPanel/GETPROFILEINFOSUCCESS",ye="studentPanel/GETPROFILEINFOFAILED";var ve=Object(a.b)((function(e){return{}}),{logOut:function(){return function(e){localStorage.removeItem("authToken"),e({type:D})}},changeSection:function(e){return function(t){t({type:me,title:e})}}})(ie),Te=(n(510),n(10)),Ie=n(520),Fe=n(103),Re=n(59),Ae=n(525),De=n(533),Pe=n(519),Ue=n(37),ke=n.n(Ue),Ne=$.a.Content,Le=Ie.a.Meta,Me=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).handleCancel=function(){r.setState({isModal:!1,courseForEnroll:{}})},r.onFinish=function(e){var t={course:r.state.courseForEnroll,startDate:ke()(e.startDate._d).format("YYYY-MM-DD")};r.props.enrollInACourse(t),r.handleCancel()},r.onFinishFailed=function(e){console.log("Failed:",e)},r.disabledDate=function(e){var t=ke()();return e&&(e<t.subtract(1,"day")||e>t.add(3,"years"))},r.state={courses:r.props.reduxCourses,isModal:!1,courseForEnroll:{}},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.props.getCourses()}},{key:"enrollInACourse",value:function(e){this.setState({isModal:!0,courseForEnroll:e})}},{key:"render",value:function(){var e=this,t="YYYY-MM-DD";return Object(G.jsxs)($.a,{className:"site-layout",children:[Object(G.jsx)(Ne,{className:"site-layout-background",style:{padding:30,minHeight:280},children:Object(G.jsx)(Fe.a,{gutter:10,children:this.state.courses.map((function(n,r){return Object(G.jsx)(Re.a,{span:4,children:Object(G.jsxs)(Ie.a,{hoverable:!0,cover:Object(G.jsx)("img",{src:n.imageUrl,alt:"Image not found"}),children:[Object(G.jsx)(Le,{title:n.title,description:n.description}),Object(G.jsx)(Le,{title:ke()(n.createDate).format(t)}),Object(G.jsx)(O.a,{type:"primary",icon:Object(G.jsx)(De.a,{}),style:{marginTop:"10px",width:"100%"},onClick:function(){return e.enrollInACourse(n)},children:"Enroll"})]})})}))})}),Object(G.jsx)(Ae.a,{title:"Enroll in the course",visible:this.state.isModal,onCancel:this.handleCancel,okButtonProps:{style:{display:"none"}},children:Object(G.jsxs)(d.a,Object(Te.a)(Object(Te.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,children:[Object(G.jsx)(d.a.Item,{label:"Choose start date :",name:"startDate",rules:[{required:!0,message:"Please choose start date!"}],children:Object(G.jsx)(Pe.a,{format:t,disabledDate:this.disabledDate,defaultValue:ke()()})}),Object(G.jsx)(d.a.Item,Object(Te.a)(Object(Te.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(G.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})]})}}]),n}(o.a.Component);Me.getDerivedStateFromProps=function(e,t){return{courses:e.reduxCourses}};var we=Me,Ge="http://localhost:5000/Courses/",Be=function(){function e(){Object(y.a)(this,e)}return Object(v.a)(e,null,[{key:"getCoursesList",value:function(e){return I.a.post(Ge+"GetCoursesList",e)}},{key:"getMyCourses",value:function(e){return I.a.post(Ge+"GetMyCourses",e)}},{key:"enrollInACourse",value:function(e){return console.log(e),I.a.post(Ge+"EnrollInACourse",e)}},{key:"removeSubscribe",value:function(e){return I.a.post(Ge+"RemoveSubscribe",e)}},{key:"getProfileInfo",value:function(e){return I.a.post(Ge+"GetProfileInfo",e)}},{key:"editCourse",value:function(e){return I.a.post(Ge+"EditCourse",e)}},{key:"removeCourse",value:function(e){return I.a.post(Ge+"RemoveCourse",e)}},{key:"addCourse",value:function(e){return I.a.post(Ge+"AddCourse",e)}},{key:"getStudents",value:function(e){return I.a.post(Ge+"GetStudents",e)}}]),e}();var Ve=Object(a.b)((function(e){return{reduxCourses:e.studentPanelReducer.reduxCourses}}),{getCourses:function(){return function(e){e({type:le});var t={JwtToken:localStorage.getItem("authToken")};Be.getCoursesList(t).then((function(t){e({type:ue,courses:t.data})}),(function(t){console.log("Error: ",t.response),e({type:de})})).catch((function(e){console.log("Global server error",e)}))}},enrollInACourse:function(e){return function(t){t({type:he});var n={JwtToken:localStorage.getItem("authToken"),StartDate:e.startDate,Course:e.course};Be.enrollInACourse(n).then((function(n){t({type:fe,course:e.course})}),(function(e){console.log("Error: ",e.response),t({type:pe})})).catch((function(e){console.log("Global server error",e)}))}}})(we),Ye=n(65),qe=$.a.Content,_e=Ie.a.Meta,Je=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).state={courses:r.props.reduxMyCourses,isMyCoursesLoadedFromBase:!1},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){0==this.state.isMyCoursesLoadedFromBase&&this.props.getMyCourses()}},{key:"removeMyCourse",value:function(e){this.props.removeSubscribe(e)}},{key:"render",value:function(){var e=this;return Object(G.jsx)($.a,{className:"site-layout",children:Object(G.jsx)(qe,{className:"site-layout-background",style:{padding:30,minHeight:280},children:0!=e.state.courses.length?Object(G.jsx)(Fe.a,{gutter:10,children:e.state.courses.map((function(t,n){return Object(G.jsx)(Re.a,{span:4,children:Object(G.jsxs)(Ie.a,{hoverable:!0,cover:Object(G.jsx)("img",{src:t.imageUrl,alt:"Image not found"}),children:[Object(G.jsx)(_e,{title:t.title,description:t.description}),Object(G.jsx)(_e,{date:ke()(t.createDate).format("YYYY-MM-DD")}),Object(G.jsx)(O.a,{type:"primary",icon:Object(G.jsx)(Ye.a,{}),style:{marginTop:"15px",width:"100%"},danger:!0,onClick:function(){return e.removeMyCourse(t)},children:"Remove"})]})})}))}):Object(G.jsx)("h2",{children:"No courses"})})})}}]),n}(o.a.Component);Je.getDerivedStateFromProps=function(e,t){return{courses:e.reduxMyCourses,isMyCoursesLoadedFromBase:e.isMyCoursesLoadedFromBase}};var Ke=Je;var He=Object(a.b)((function(e){return{reduxMyCourses:e.studentPanelReducer.reduxMyCourses,isMyCoursesLoadedFromBase:e.studentPanelReducer.isMyCoursesLoadedFromBase}}),{getMyCourses:function(){return function(e){e({type:je});var t={JwtToken:localStorage.getItem("authToken")};Be.getMyCourses(t).then((function(t){e({type:Oe,courses:t.data})}),(function(t){console.log("Error: ",t.response),e({type:be})})).catch((function(e){console.log("Global server error",e)}))}},removeSubscribe:function(e){return function(t){t({type:ge});var n={JwtToken:localStorage.getItem("authToken"),Course:e};e.removeSubscribe(n).then((function(n){t({type:Se,course:e})}),(function(e){console.log("Error: ",e.response),t({type:Ee})})).catch((function(e){console.log("Global server error",e)}))}}})(Ke),ze=n(522),We=$.a.Content,Qe=(Ie.a.Meta,function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).state={profile:r.props.reduxProfile,isProfileLoadedFromBase:!1},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){0==this.state.isProfileLoadedFromBase&&this.props.getProfileInfo()}},{key:"render",value:function(){return Object(G.jsx)($.a,{className:"site-layout",children:Object(G.jsx)(We,{className:"site-layout-background",style:{padding:30},children:Object(G.jsx)(Ie.a,{hoverable:!0,children:Object(G.jsx)("table",{style:{width:"100vh"},children:Object(G.jsxs)("tbody",{style:{width:"100vh"},children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{colspan:3,children:Object(G.jsxs)("h1",{style:{fontSize:25},children:[this.state.profile.surname+" "+this.state.profile.name," "]})}),Object(G.jsx)("td",{rowspan:3,className:"img",children:Object(G.jsx)(ze.a,{height:250,src:"https://i.pinimg.com/564x/4f/dc/be/4fdcbed67e52d1b1f392b6a88f4602c5.jpg",disabled:!0})})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("h6",{style:{fontSize:15},children:"Age"})}),Object(G.jsx)("td",{children:Object(G.jsx)("h6",{style:{fontSize:15},children:this.state.profile.age})})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("h6",{style:{fontSize:15},children:"Email"})}),Object(G.jsx)("td",{children:Object(G.jsx)("h6",{style:{fontSize:15},children:this.state.profile.email})})]})]})})})})})}}]),n}(o.a.Component));Qe.getDerivedStateFromProps=function(e,t){return{profile:e.reduxProfileInfo,isProfileLoadedFromBase:e.isProfileLoadedFromBase}};var Xe=Qe;var Ze=Object(a.b)((function(e){return{reduxProfileInfo:e.studentPanelReducer.reduxProfileInfo,isProfileLoadedFromBase:e.studentPanelReducer.isProfileLoadedFromBase}}),{getProfileInfo:function(){return function(e){e({type:Ce});var t={JwtToken:localStorage.getItem("authToken")};Be.getProfileInfo(t).then((function(t){e({type:xe,profileInfo:t.data})}),(function(t){console.log("Error: ",t.response),e({type:ye})})).catch((function(e){console.log("Global server error",e)}))}}})(Xe),$e=$.a.Sider,et=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).state={title:r.props.reduxSectionName},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title=this.state.title}},{key:"render",value:function(){var e=this;return Object(G.jsxs)($.a,{className:"pageBlock",children:[Object(G.jsx)($e,{className:"sideMenu",children:Object(G.jsx)(ve,{})}),function(){switch(e.state.title){case se:return Object(G.jsx)(Ve,{});case ae:return Object(G.jsx)(He,{});case ce:return Object(G.jsx)(Ze,{})}}()]})}}]),n}(o.a.Component);et.getDerivedStateFromProps=function(e,t){return document.title!=e.reduxSectionName&&(document.title=e.reduxSectionName),{title:e.reduxSectionName}};var tt=et,nt=Object(i.g)(Object(a.b)((function(e){return{reduxSectionName:e.studentPanelReducer.reduxSectionName}}))(tt)),rt=n(534),ot=n(535),st="adminPanel/ Courses -> View / Edit / Remove",at="adminPanel/ Courses -> Add",ct="adminPanel/ Students -> View / Edit / Remove",it="adminPanel/ Students -> Add",lt=ee.a.SubMenu,ut=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).state={},r}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=function(t){e.props.changeSection(t)};return Object(G.jsx)(r.Fragment,{className:"block",children:Object(G.jsxs)(ee.a,{defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline",theme:"dark",children:[Object(G.jsxs)(lt,{icon:Object(G.jsx)(rt.a,{}),title:"Courses",children:[Object(G.jsx)(ee.a.Item,{onClick:function(){return t(st)},children:"View / Edit / Remove"},"1"),Object(G.jsx)(ee.a.Item,{onClick:function(){return t(at)},children:"Add"},"2")]},"sub1"),Object(G.jsxs)(lt,{icon:Object(G.jsx)(ot.a,{}),title:"Students",children:[Object(G.jsx)(ee.a.Item,{onClick:function(){return t(ct)},children:"View / Edit / Remove"},"3"),Object(G.jsx)(ee.a.Item,{onClick:function(){return t(it)},children:"Add"},"4")]},"sub2"),Object(G.jsx)(ee.a.Item,{icon:Object(G.jsx)(oe.a,{}),onClick:function(){e.props.logOut()},children:"Log out"},"5")]})})}}]),n}(o.a.Component),dt="adminPanel/CHANGESECTION";var jt=Object(a.b)((function(e){return{}}),{logOut:function(){return function(e){localStorage.removeItem("authToken"),e({type:D})}},changeSection:function(e){return function(t){t({type:dt,title:e})}}})(ut),Ot=(n(511),n(512),$.a.Content),bt=Ie.a.Meta,mt=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).handleCancel=function(){r.setState({isModal:!1,courseForEdit:{}})},r.onFinish=function(e){var t={createDate:r.state.courseForEdit.createDate,description:e.description,id:r.state.courseForEdit.id,imageUrl:e.imageUrl,title:e.title};r.props.editCourse(t,r.state.courseForEdit),r.handleCancel()},r.onFinishFailed=function(e){console.log("Failed:",e)},r.disabledDate=function(e){var t=ke()();return e&&(e<t.subtract(1,"day")||e>t.add(3,"years"))},r.state={courses:r.props.reduxCourses,isModal:!1,courseForEdit:{}},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.props.getCourses()}},{key:"editACourse",value:function(e){this.setState({isModal:!0,courseForEdit:e})}},{key:"removeACourse",value:function(e){this.props.removeCourse(e)}},{key:"render",value:function(){var e=this;return Object(G.jsxs)($.a,{className:"site-layout",children:[Object(G.jsx)(Ot,{className:"site-layout-background",style:{padding:30,minHeight:280},children:Object(G.jsx)(Fe.a,{gutter:10,children:this.state.courses.map((function(t,n){return Object(G.jsx)(Re.a,{span:4,children:Object(G.jsxs)(Ie.a,{hoverable:!0,cover:Object(G.jsx)("img",{src:t.imageUrl,alt:"Image not found"}),children:[Object(G.jsx)(bt,{title:t.title,description:t.description}),Object(G.jsx)(bt,{title:ke()(t.createDate).format("YYYY-MM-DD")}),Object(G.jsx)(O.a,{type:"primary",icon:Object(G.jsx)(De.a,{}),className:"edit-form-button",onClick:function(){return e.editACourse(t)},children:"Edit"}),Object(G.jsx)(O.a,{type:"primary",icon:Object(G.jsx)(Ye.a,{}),className:"edit-form-button",danger:!0,onClick:function(){return e.removeACourse(t)},children:"Remove"})]})})}))})}),Object(G.jsx)(Ae.a,{title:"Edit the course",visible:this.state.isModal,onCancel:this.handleCancel,okButtonProps:{style:{display:"none"}},children:Object(G.jsxs)(d.a,Object(Te.a)(Object(Te.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,children:[Object(G.jsx)(d.a.Item,{label:"Enter new title :",name:"title",rules:[{required:!0,message:"Please enter new title!"}],children:Object(G.jsx)(j.a,{placeholder:this.state.courseForEdit.title})}),Object(G.jsx)(d.a.Item,{label:"Enter new description :",name:"description",rules:[{required:!0,message:"Please enter new description!"}],children:Object(G.jsx)(j.a,{placeholder:this.state.courseForEdit.description})}),Object(G.jsx)(d.a.Item,{label:"Enter new image url :",name:"imageUrl",rules:[{required:!0,message:"Please enter new image url!"}],children:Object(G.jsx)(j.a,{placeholder:this.state.courseForEdit.imageUrl})}),Object(G.jsx)(d.a.Item,Object(Te.a)(Object(Te.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(G.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})]})}}]),n}(o.a.Component);mt.getDerivedStateFromProps=function(e,t){return{courses:e.reduxCourses}};var ht=mt,ft="adminPanel/GETCOURSESSTARTED",pt="adminPanel/GETCOURSESSUCCESS",gt="adminPanel/GETCOURSESFAILED",St="adminPanel/EDITCOURSESTARTED",Et="adminPanel/EDITCOURSESUCCESS",Ct="adminPanel/EDITCOURSEFAILED",xt="adminPanel/REMOVECOURSESTARTED",yt="adminPanel/REMOVECOURSESUCCESS",vt="adminPanel/REMOVECOURSEFAILED",Tt="adminPanel/ADDCOURSESTARTED",It="adminPanel/ADDCOURSESUCCESS",Ft="adminPanel/ADDCOURSEFAILED",Rt="adminPanel/GETSTUDENTSSTARTED",At="adminPanel/GETSTUDENTSSUCCESS",Dt="adminPanel/GETSTUDENTSFAILED";var Pt=Object(a.b)((function(e){return{reduxCourses:e.adminPanelReducer.reduxCourses}}),{getCourses:function(){return function(e){e({type:ft});var t={JwtToken:localStorage.getItem("authToken")};Be.getCoursesList(t).then((function(t){e({type:pt,courses:t.data})}),(function(t){console.log("Error: ",t.response),e({type:gt})})).catch((function(e){console.log("Global server error",e)}))}},removeCourse:function(e){return function(t){t({type:xt});var n={JwtToken:localStorage.getItem("authToken"),Course:e};Be.removeCourse(n).then((function(n){t({type:yt,course:e})}),(function(e){console.log("Error: ",e.response),t({type:vt})})).catch((function(e){console.log("Global server error",e)}))}},editCourse:function(e,t){return function(n){n({type:St});var r={JwtToken:localStorage.getItem("authToken"),CourseId:e.id,CourseTitle:e.title,CourseDescription:e.description,CourseImageUrl:e.imageUrl};Be.editCourse(r).then((function(r){n({type:Et,course:t,newCourse:e})}),(function(e){console.log("Error: ",e.response),n({type:Ct})})).catch((function(e){console.log("Global server error",e)}))}}})(ht),Ut=(n(513),n(514),$.a.Content),kt=(Ie.a.Meta,function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).onFinish=function(e){r.props.addCourse(e)},r.onFinishFailed=function(e){console.log("Failed:",e)},r.state={},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(G.jsx)($.a,{className:"site-layout",children:Object(G.jsx)(Ut,{className:"site-layout-background",style:{padding:30,minHeight:280},children:Object(G.jsx)(Ie.a,{hoverable:!0,children:Object(G.jsxs)(d.a,{name:"basic",onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,children:[Object(G.jsx)(d.a.Item,{label:"Enter course title :",name:"title",rules:[{required:!0,message:"Please enter course title!"}],children:Object(G.jsx)(j.a,{placeholder:"Course title"})}),Object(G.jsx)(d.a.Item,{label:"Enter course description :",name:"description",rules:[{required:!0,message:"Please enter course description!"}],children:Object(G.jsx)(j.a,{placeholder:"Course description"})}),Object(G.jsx)(d.a.Item,{label:"Enter image url :",name:"imageUrl",rules:[{required:!0,message:"Please enter image url!"}],children:Object(G.jsx)(j.a,{placeholder:"Course image url"})}),Object(G.jsx)(d.a.Item,{children:Object(G.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Add"})})]})})})})}}]),n}(o.a.Component));kt.getDerivedStateFromProps=function(e,t){return{}};var Nt=kt;var Lt=Object(a.b)((function(e){return{showMessage:e.adminPanelReducer.showMessage}}),{addCourse:function(e){return function(t){t({type:Tt});var n={JwtToken:localStorage.getItem("authToken"),Course:e};Be.addCourse(n).then((function(n){t({type:It,course:e})}),(function(e){console.log("Error: ",e.response),t({type:Ft})})).catch((function(e){console.log("Global server error",e)}))}}})(Nt),Mt=(n(515),$.a.Content),wt=Ie.a.Meta,Gt=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).handleCancel=function(){r.setState({isModal:!1,studentForEdit:{}})},r.onFinish=function(e){var t={name:r.state.studentForEdit.name,surname:e.surname,id:r.state.studentForEdit.id,age:e.age,email:e.email,password:e.password,isAdmin:e.isAdmin};console.log(t),r.handleCancel()},r.onFinishFailed=function(e){console.log("Failed:",e)},r.state={students:r.props.reduxStudents,isModal:!1,studentForEdit:{}},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.props.getStudents()}},{key:"editStudent",value:function(e){this.setState({isModal:!0,studentsForEdit:e})}},{key:"removeStudent",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this;return Object(G.jsxs)($.a,{className:"site-layout",children:[Object(G.jsx)(Mt,{className:"site-layout-background",style:{padding:30,minHeight:280},children:Object(G.jsx)(Fe.a,{gutter:10,children:this.state.students.map((function(t,n){return Object(G.jsx)(Re.a,{span:4,children:Object(G.jsxs)(Ie.a,{hoverable:!0,children:[Object(G.jsx)(wt,{title:t.name+" "+t.surname}),Object(G.jsx)(O.a,{type:"primary",icon:Object(G.jsx)(De.a,{}),className:"edit-form-button",onClick:function(){return e.editStudent(t)},children:"Edit"}),Object(G.jsx)(O.a,{type:"primary",icon:Object(G.jsx)(Ye.a,{}),className:"edit-form-button",danger:!0,onClick:function(){return e.removeStudent(t)},children:"Remove"})]})})}))})}),Object(G.jsx)(Ae.a,{title:"Edit the course",visible:this.state.isModal,onCancel:this.handleCancel,okButtonProps:{style:{display:"none"}},children:Object(G.jsxs)(d.a,Object(Te.a)(Object(Te.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,children:[Object(G.jsx)(d.a.Item,{label:"Enter new name :",name:"name",rules:[{required:!0,message:"Please enter new name!"}],children:Object(G.jsx)(j.a,{placeholder:this.state.studentForEdit.title})}),Object(G.jsx)(d.a.Item,{label:"Enter new surname :",name:"surname",rules:[{required:!0,message:"Please enter new surname!"}],children:Object(G.jsx)(j.a,{placeholder:this.state.studentForEdit.surname})}),Object(G.jsx)(d.a.Item,Object(Te.a)(Object(Te.a)({},{wrapperCol:{offset:8,span:16}}),{},{children:Object(G.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))})]})}}]),n}(o.a.Component);Gt.getDerivedStateFromProps=function(e,t){return{students:e.reduxStudents}};var Bt=Gt;var Vt=Object(a.b)((function(e){return{reduxStudents:e.adminPanelReducer.reduxStudents}}),{getStudents:function(){return function(e){e({type:Rt});var t={JwtToken:localStorage.getItem("authToken")};Be.getStudents(t).then((function(t){e({type:At,students:t.data}),console.log(t)}),(function(t){console.log("Error: ",t.response),e({type:At})})).catch((function(e){console.log("Global server error",e)}))}}})(Bt),Yt=$.a.Sider,qt=function(e){Object(X.a)(n,e);var t=Object(Z.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this,e)).state={title:"",sectionName:r.props.reduxSectionName},r}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title=this.state.title}},{key:"render",value:function(){var e=this;return Object(G.jsxs)($.a,{className:"pageBlock",children:[Object(G.jsx)(Yt,{className:"sideMenu",children:Object(G.jsx)(jt,{})}),function(){switch(e.state.sectionName){case st:return Object(G.jsx)(Pt,{});case at:return Object(G.jsx)(Lt,{});case ct:return Object(G.jsx)(Vt,{});case it:return Object(G.jsx)("h1",{children:"SA"})}}()]})}}]),n}(o.a.Component);qt.getDerivedStateFromProps=function(e,t){var n;switch(e.reduxSectionName){case st:case at:n="Courses";break;case ct:case it:n="Students"}return document.title!=n&&(document.title=n),{title:n,sectionName:e.reduxSectionName}};var _t=qt,Jt=Object(i.g)(Object(a.b)((function(e){return{reduxSectionName:e.adminPanelReducer.reduxSectionName}}))(_t)),Kt=Object(i.g)(Object(a.b)((function(e){return{isAuthUser:e.authReducer.isAuthUser,role:e.authReducer.role}}))((function(e){var t=e.isAuthUser,n=e.role,r=e.allowedRoles;return t&&r.includes(n)?Object(G.jsx)(i.b,{component:function(){return e.children}}):t&&!r.includes(n)?Object(G.jsx)(i.b,{component:function(){return Object(G.jsx)(i.a,{to:"/"})}}):t?Object(G.jsx)(i.b,Object(Te.a)({},e)):Object(G.jsx)(i.b,{component:function(){return Object(G.jsx)(i.a,{to:"/login"})}})})));function Ht(){return Object(G.jsx)(c.a,{children:Object(G.jsxs)(i.d,{children:[Object(G.jsx)(Kt,{path:"/studentPanel",allowedRoles:[k,N],children:Object(G.jsx)(nt,{})}),Object(G.jsx)(Kt,{path:"/adminPanel",allowedRoles:[N],children:Object(G.jsx)(Jt,{})}),Object(G.jsx)(i.b,{path:"/login",children:Object(G.jsx)(V,{})}),Object(G.jsx)(i.b,{path:"/registration",children:Object(G.jsx)(Q,{})})]})})}var zt=n(100),Wt=n(281),Qt=function(e){return function(t,n,r){return e((function(e,n){var r,o=performance.now(),s=t(e,n),a=performance.now(),c=(r=a-o,Math.round(100*r)/100);return console.log("reducer process time:",c),s}),n,r)}},Xt=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),console.groupEnd(),r}}},Zt={isAuthUser:!1,role:L},$t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return console.log("LOGINSTARTED"),e;case g:return console.log("LOGINSUCCESS"),Object(Te.a)(Object(Te.a)({},e),{},{isAuthUser:!0,role:t.role});case S:return console.log("LOGINFAILED"),e;case E:return console.log("LOGINVIAFACEBOOKSTARTED"),e;case C:return console.log("LOGINVIAFACEBOOKSUCCESS"),Object(Te.a)(Object(Te.a)({},e),{},{isAuthUser:!0,role:t.role});case x:return console.log("LOGINVIAFACEBOOKFAILED"),e;case K:return console.log("REGISTRATIONSTARTED"),e;case H:return console.log("REGISTRATIONSUCCESS"),Object(Te.a)(Object(Te.a)({},e),{},{isAuthUser:!0,role:t.role});case z:return console.log("REGISTRATIONFAILED"),e;case A:return console.log("SETCURRENTUSER"),e;case D:return console.log("LOGOUT"),Object(Te.a)(Object(Te.a)({},e),{},{isAuthUser:!1,role:L});default:return e}},en=n(115),tn=n(116),nn={reduxCourses:[],reduxSectionName:"Courses",reduxMyCourses:[],isMyCoursesLoadedFromBase:!1,reduxProfileInfo:{},isProfileLoadedFromBase:!1},rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return console.log("GETCOURSESSTARTED"),e;case ue:return console.log("GETCOURSESSUCCESS"),Object(Te.a)(Object(Te.a)({},e),{},{reduxCourses:t.courses});case de:return console.log("GETCOURSESFAILED"),e;case je:return console.log("GETMYCOURSESSTARTED"),e;case Oe:return console.log("GETMYCOURSESSUCCESS"),Object(Te.a)(Object(Te.a)({},e),{},{reduxMyCourses:t.courses,isMyCoursesLoadedFromBase:!0});case be:return console.log("GETMYCOURSESFAILED"),e;case me:return console.log("CHANGESECTION"),Object(Te.a)(Object(Te.a)({},e),{},{reduxSectionName:t.title});case he:return console.log("ENROLLINACOURSESTARTED"),e;case fe:return console.log("ENROLLINACOURSESSUCCESS"),e.reduxMyCourses.push(t.course),Object(Te.a)({},e);case pe:return console.log("ENROLLINACOURSEFAILED"),e;case ge:return console.log("REMOVESUBSCRIBESTARTED"),e;case Se:console.log("REMOVESUBSCRIBESUCCESS");var n=e.reduxMyCourses.indexOf(t.course);return e.reduxMyCourses.splice(n,1),Object(Te.a)(Object(Te.a)({},e),{},{reduxMyCourses:Object(tn.a)(e.reduxMyCourses)});case Ee:return console.log("REMOVESUBSCRIBEFAILED"),e;case Ce:return console.log("GETPROFILEINFOSTARTED"),e;case xe:return console.log("GETPROFILEINFOSUCCESS"),console.log(t.profileInfo),Object(Te.a)(Object(Te.a)({},e),{},{reduxProfileInfo:t.profileInfo,isProfileLoadedFromBase:!0});case ye:return console.log("GETPROFILEINFOFAILED"),e;case D:var r;return console.log("LOGOUT"),Object(Te.a)(Object(Te.a)({},e),{},(r={reduxCourses:[],reduxSectionName:"Courses",isMyCoursesLoadedFromBase:!1,reduxProfileInfo:{},isProfileLoadedFromBase:!1},Object(en.a)(r,"reduxProfileInfo",{}),Object(en.a)(r,"reduxMyCourses",[]),r));default:return e}},on={reduxCourses:[],reduxSectionName:st,isCoursesLoadedFromBase:!1,reduxStudents:[]},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case St:return console.log("EDITCOURSESTARTED"),Object(Te.a)({},e);case Et:console.log("EDITCOURSESUCCESS");var n=e.reduxCourses.indexOf(t.course);return e.reduxCourses[n]={id:t.newCourse.id,createDate:t.newCourse.createDate,description:t.newCourse.description,imageUrl:t.newCourse.imageUrl,title:t.newCourse.title},Object(Te.a)(Object(Te.a)({},e),{},{reduxCourses:Object(tn.a)(e.reduxCourses)});case Ct:return console.log("EDITCOURSEFAILED"),Object(Te.a)({},e);case ft:return console.log("GETCOURSESSTARTED"),Object(Te.a)({},e);case pt:return console.log("GETCOURSESSUCCESS"),Object(Te.a)(Object(Te.a)({},e),{},{reduxCourses:t.courses});case gt:return console.log("GETCOURSESFAILED"),Object(Te.a)({},e);case xt:return console.log("REMOVECOURSESTARTED"),Object(Te.a)({},e);case yt:console.log("REMOVECOURSESUCCESS");n=e.reduxCourses.indexOf(t.course);return e.reduxCourses.splice(n,1),Object(Te.a)(Object(Te.a)({},e),{},{reduxCourses:Object(tn.a)(e.reduxCourses)});case vt:return console.log("REMOVECOURSEFAILED"),Object(Te.a)({},e);case Tt:return console.log("ADDCOURSESTARTED"),Object(Te.a)({},e);case It:return console.log("ADDCOURSESUCCESS"),e.reduxCourses.push(t.course),Object(Te.a)(Object(Te.a)({},e),{},{showMessage:!0});case Ft:return console.log("ADDCOURSEFAILED"),Object(Te.a)({},e);case dt:return console.log("CHANGESECTION"),Object(Te.a)(Object(Te.a)({},e),{},{reduxSectionName:t.title});case Rt:return console.log("GETSTUDENTSSTARTED"),Object(Te.a)({},e);case At:return console.log("GETSTUDENTSSUCCESS"),Object(Te.a)(Object(Te.a)({},e),{},{reduxStudents:t.students});case Dt:return console.log("GETSTUDENTSFAILED"),Object(Te.a)({},e);case D:return console.log("LOGOUT"),Object(Te.a)(Object(Te.a)({},e),{},{reduxCourses:[],reduxSectionName:st,isCoursesLoadedFromBase:!1,reduxStudents:[]});default:return e}},an=Object(zt.combineReducers)({authReducer:$t,studentPanelReducer:rn,adminPanelReducer:sn}),cn=n(282);var ln=function(e){var t=[Xt,Wt.a],n=[zt.applyMiddleware.apply(void 0,t),Qt],r=cn.composeWithDevTools.apply(void 0,n);return Object(zt.createStore)(an,e,r)}(),un=document.getElementById("root");Object(s.render)(Object(G.jsx)(a.a,{store:ln,children:Object(G.jsx)(Ht,{})}),un)}},[[516,1,2]]]);
//# sourceMappingURL=main.c5fab6f5.chunk.js.map